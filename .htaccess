## BEGIN ZNETDK
# The directives between "BEGIN ZNETDK" and "END ZNETDK" are automatically
# generated by ZnetDK.

# Default file returned when only domain name is requested
DirectoryIndex index.php

# Don't show directory listings for URLs which map to a directory.
Options -Indexes

# 403 - Access forbidden (try to list directory content)
ErrorDocument 403 /znetdk/index.php?control=httperror&action=403
# 404 - Resource not found
ErrorDocument 404 /znetdk/index.php?control=httperror&action=404

# Module 'mod_rewrite' IS INSTALLED
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /znetdk/
# No resource specified after the base URL
RewriteRule ^$ - [L]
# index.php is the only PHP script allowed
RewriteRule ^index\.php$ - [L]
# Root service-worker.js script is allowed
RewriteRule ^service\-worker\.js$ - [L]
# Public directories are allowed
RewriteRule ^applications/.*/public/.*$ - [L]
RewriteRule ^engine/public/.*$ - [L]
RewriteRule ^engine/tools/appwiz/public/.*$ - [L]
RewriteRule ^engine/tools/appwiz\-preview/public/.*$ - [L]
RewriteRule ^engine/modules/.*/public/.*$ - [L]
# Resources directory is allowed
RewriteRule ^resources/.*$ - [L]
# 403 - Access to other web resources is forbidden
RewriteRule ^.*$ index.php?control=httperror&action=403 [L]
</IfModule>

# Fontawesome fix for deployment over the SSL protocol
<FilesMatch "\.(eot|woff|woff2|svg|ttf)$">
FileETag None
<ifModule mod_headers.c>
Header unset Cache-Control
Header unset Pragma
Header unset Expires
</ifModule>
</FilesMatch>

# The HTTP_AUTHORIZATION variable is set for HTTP requests with Basic Authentication
# This variable is used for Web Services call with Basic Authentication
# This is workaround when CGI mode is enabled on Hosting Server.
SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1

## END ZNETDK